"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[898],{3898:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var r=t(1413),a=t(2791),s=t(5861),c=t(4687),i=t.n(c),o=t(9434),u=function(n){return n.contacts.items},l=function(n){return n.contacts.isLoading},d=function(n){return n.filter},m=t(3634),x=function(){var n=(0,o.I0)(),e=(0,o.v9)(l),t=(0,o.v9)(d),r=(0,o.v9)(u),c=(0,a.useCallback)((0,s.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(m.yF()).unwrap();case 2:case"end":return e.stop()}}),e)}))),[n]),x=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(m.uK(t)).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(m.GK(t)).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(m.Tk(t)).unwrap();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{isContactsLoading:e,isContactsFiltered:t,isAllContacts:r,fetchContacts:c,addContact:x,deleteContact:h,updateContact:p}},h=t(5218),p=t(5193),f=t(8208),j=t(311),b=t(7806),v=t(4363),g=t(9140),C=t(2322),y=t(4224),w=t(9126),k=function(n){var e=(""+n).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{2})(\d{2})$/);return e?"("+e[1]+")-"+e[2]+"-"+e[3]+"-"+e[4]:null},L=t(184),Z=function(n){var e=n.onSubmit,t=x(),r=t.isAllContacts,a=t.addContact,c=function(){var n=(0,s.Z)(i().mark((function n(t){var s,c,o,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),s=t.currentTarget,c=s.elements.name.value.trim(),o=s.elements.number.value,!r.some((function(n){return n.name.toLowerCase().trim()===c.toLowerCase()}))){n.next=8;break}return h.ZP.error("".concat(c," is already exist."),{position:"top-center"}),n.abrupt("return");case 8:return u={name:c,number:k(o)},n.prev=9,n.next=12,a(u);case 12:s.reset(),e(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),console.log(n.t0);case 19:case"end":return n.stop()}}),n,null,[[9,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("form",{onSubmit:c,children:(0,L.jsxs)(p.K,{spacing:2,children:[(0,L.jsx)(f.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,L.jsxs)(j.B,{children:[(0,L.jsx)(b.Z,{pointerEvents:"none",children:(0,L.jsx)(v.J,{as:w.HHm,color:"gray.300"})}),(0,L.jsx)(g.I,{as:"input",name:"name",placeholder:"Name",minLength:3,id:"name"})]}),(0,L.jsx)(f.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,L.jsxs)(j.B,{children:[(0,L.jsx)(C.Ui,{children:"+38"}),(0,L.jsx)(g.I,{as:"input",name:"number",placeholder:"(XXX)-XX-XX-XXX",minLength:10,maxLength:10,id:"number"})]}),(0,L.jsx)(y.z,{type:"submit",variant:"brand",mt:4,children:"Add contact"})]})})})},S=t(8348),F=t(176),X=t(1175),I=t(4087),_=t(9229),z=t(1149),A=t(5969),B=t(9439),T=t(581),N=t(8206),H=t(9975),U=t(3182),W=t(7970),K=t(1211),q=t(1216),D=function(n){var e=n.buttonName,t=n.modalTitle,r=n.modalBody,s=n.isOpen,c=n.onOpen,i=n.onClose,o=function(){return(0,L.jsx)(T.Z,{bg:"blackAlpha.300",backdropFilter:"blur(10px) hue-rotate(90deg)"})},u=a.useState((0,L.jsx)(o,{})),l=(0,B.Z)(u,2),d=l[0],m=l[1];return(0,L.jsxs)(N.W,{children:[(0,L.jsx)(I.xu,{py:4,children:(0,L.jsx)(y.z,{onClick:function(){m((0,L.jsx)(o,{})),c()},variant:"brand",children:e})}),(0,L.jsxs)(H.u_,{isCentered:!0,isOpen:s,onClose:i,children:[d,(0,L.jsxs)(U.h,{px:4,py:8,children:[(0,L.jsx)(W.o,{}),(0,L.jsx)(K.x,{as:"h2",fontSize:"xl",align:"center",children:t}),(0,L.jsx)(q.f,{children:r})]})]})]})},E=function(n){return n.replace(/[()-]/g,"")},O=function(n){var e=n.id,t=n.name,r=n.number,a=n.onSubmit,c=x().updateContact,o=function(){var n=(0,s.Z)(i().mark((function n(t){var r,s,o,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),r=t.currentTarget,s=r.elements.name.value.trim(),o=r.elements.number.value,u={id:e,name:s,number:k(o)},n.prev=5,n.next=8,c(u);case 8:r.reset(),a(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e){return n.apply(this,arguments)}}();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)("form",{onSubmit:o,children:(0,L.jsxs)(p.K,{spacing:2,children:[(0,L.jsx)(f.l,{htmlFor:"name",m:"0",children:"Name:"}),(0,L.jsxs)(j.B,{children:[(0,L.jsx)(b.Z,{pointerEvents:"none",children:(0,L.jsx)(v.J,{as:w.HHm,color:"gray.300"})}),(0,L.jsx)(g.I,{as:"input",name:"name",defaultValue:t,minLength:3,id:"name"})]}),(0,L.jsx)(f.l,{htmlFor:"number",m:"0",children:"Phone:"}),(0,L.jsxs)(j.B,{children:[(0,L.jsx)(C.Ui,{children:"+38"}),(0,L.jsx)(g.I,{as:"input",name:"number",minLength:10,maxLength:10,id:"number",defaultValue:E(r)})]}),(0,L.jsx)(y.z,{type:"submit",variant:"brand",mt:4,children:"Update contact"})]})})})},P=function(n){var e=n.id,t=n.name,a=n.number,s=x().deleteContact,c=(0,S.q)();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(F.k,{align:"center",p:2,children:[(0,L.jsx)(X.q,{src:"https://bit.ly/broken-link"}),(0,L.jsxs)(I.xu,{ml:"3",children:[(0,L.jsx)(_.x,{fontWeight:"bold",children:t}),(0,L.jsx)(_.x,{fontSize:"sm",children:a})]}),(0,L.jsxs)(I.xu,{ml:"auto",display:"flex",alignItems:"center",children:[(0,L.jsx)(D,(0,r.Z)((0,r.Z)({},c),{},{buttonName:"Update",modalTitle:"Update you contact",modalBody:(0,L.jsx)(O,{id:e,name:t,number:a,onSubmit:c.onClose})})),(0,L.jsx)(y.z,{type:"button",onClick:function(){return s(e)},variant:"brand",children:(0,L.jsx)(A.p,{})})]})]}),(0,L.jsx)(z.i,{})]})},V=t(3541),J=function(){var n=(0,o.v9)(d),e=x().isAllContacts,t=e?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):[],r=t.slice().sort((function(n,e){var t=n.name.toLowerCase(),r=e.name.toLowerCase();return t.localeCompare(r)}));return 0===r.length?(0,L.jsx)(N.W,{children:(0,L.jsx)(_.x,{children:"Sorry, but you don't have any contacts yet. You need to add your contacts."})}):(0,L.jsx)(N.W,{mb:20,children:(0,L.jsx)(V.aV,{spacing:4,children:r.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,L.jsx)(V.HC,{children:(0,L.jsx)(P,{name:t,number:r,id:e})},e)}))})})},Y=t(4808),$=function(){var n=(0,o.I0)();return(0,L.jsx)(N.W,{py:4,px:4,children:(0,L.jsx)(g.I,{as:"input",onInput:function(e){n((0,Y.T)(e.target.value.toLowerCase().trim()))},name:"filter",placeholder:"Search contact by name...",minLength:3,id:"filter"})})},G=t(5946),M=t(3204);function Q(){var n=x(),e=n.isContactsLoading,t=n.fetchContacts,s=(0,S.q)();return(0,a.useEffect)((function(){t()}),[t]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(G.X,{as:"h1",fontSize:"xl",align:"center",py:"8",children:"Your phonebook"}),(0,L.jsx)("div",{children:e&&(0,L.jsx)(F.k,{align:"center",justify:"center",children:(0,L.jsx)(M.$,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl"})})}),(0,L.jsx)($,{}),(0,L.jsx)(D,(0,r.Z)((0,r.Z)({},s),{},{buttonName:"Add new contact",modalTitle:"Add new contact",modalBody:(0,L.jsx)(Z,{onSubmit:s.onClose})})),(0,L.jsx)(J,{})]})}}}]);
//# sourceMappingURL=898.914c0b04.chunk.js.map